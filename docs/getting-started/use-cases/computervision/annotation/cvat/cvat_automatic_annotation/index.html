<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.56">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-106005416-5","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="search" type="application/opensearchdescription+xml" title="Onepanel CE" href="/opensearch.xml">
<script src="/js/gtm.js"></script><title data-react-helmet="true">Semi-automatic annotation with CVAT | Onepanel CE</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Semi-automatic annotation with CVAT | Onepanel CE"><meta data-react-helmet="true" name="description" content="Onepanel use case - computer vision automatic annotation"><meta data-react-helmet="true" property="og:description" content="Onepanel use case - computer vision automatic annotation"><meta data-react-helmet="true" property="og:url" content="https://docs.onepanel.ai/docs/getting-started/use-cases/computervision/annotation/cvat/cvat_automatic_annotation"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.png"><link data-react-helmet="true" rel="canonical" href="https://docs.onepanel.ai/docs/getting-started/use-cases/computervision/annotation/cvat/cvat_automatic_annotation"><link rel="stylesheet" href="/styles.f53002ba.css">
<link rel="preload" href="/styles.437464ec.js" as="script">
<link rel="preload" href="/runtime~main.9d09644e.js" as="script">
<link rel="preload" href="/main.a7e620a8.js" as="script">
<link rel="preload" href="/1.dd353294.js" as="script">
<link rel="preload" href="/2.3c4cdf04.js" as="script">
<link rel="preload" href="/3.9548f12b.js" as="script">
<link rel="preload" href="/1be78505.696c3a5b.js" as="script">
<link rel="preload" href="/20ac7829.1f7892a8.js" as="script">
<link rel="preload" href="/c79ff1bb.6d2ef9e3.js" as="script">
</head>
<body>
<div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/onepanel-logo-blue-white.png" alt="Onepanel logo"><strong class="navbar__title"></strong></a><a class="navbar__item navbar__link" href="/docs/getting-started/quickstart">Getting Started</a><a class="navbar__item navbar__link" href="/docs/deployment/overview">Deploy and Manage</a><a class="navbar__item navbar__link" href="/docs/reference/overview">Reference</a><a class="navbar__item navbar__link" href="/docs/api-sdk/overview">APIs and SDKs</a></div><div class="navbar__items navbar__items--right"><a activeclassname="navbar__link--active" class="navbar__item navbar__link header-community-label">Join the community:</a><a href="https://join.slack.com/t/onepanel-ce/shared_invite/zt-eyjnwec0-nLaHhjif9Y~gA05KuX6AUg" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-icon-link header-slack-link"></a><a href="https://github.com/onepanelio/core" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-icon-link header-github-link"></a><div class="navbar__search"><div class="searchWrapper_-F3-"><span aria-label="expand searchbar" role="button" class="searchIconButton_1Dnz" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Search" aria-label="Search" class="navbar__search-input searchInput_2eto"></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/onepanel-logo-blue-white.png" alt="Onepanel logo"><strong class="navbar__title"></strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/getting-started/quickstart">Getting Started</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/deployment/overview">Deploy and Manage</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference/overview">Reference</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/api-sdk/overview">APIs and SDKs</a></li><li class="menu__list-item"><a activeclassname="navbar__link--active" class="menu__link header-community-label">Join the community:</a></li><li class="menu__list-item"><a href="https://join.slack.com/t/onepanel-ce/shared_invite/zt-eyjnwec0-nLaHhjif9Y~gA05KuX6AUg" target="_blank" rel="noopener noreferrer" class="menu__link header-icon-link header-slack-link"></a></li><li class="menu__list-item"><a href="https://github.com/onepanelio/core" target="_blank" rel="noopener noreferrer" class="menu__link header-icon-link header-github-link"></a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1kjD"><div class="docSidebarContainer_1cYp"><div class="sidebar_1kLs"><div class="menu menu--responsive menu_w2sC"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_2vk4" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/getting-started/quickstart">Quick start</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Concepts</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/getting-started/concepts/namespaces">Namespaces</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/getting-started/concepts/workspaces">Workspaces</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/getting-started/concepts/workflows">Workflows</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/getting-started/concepts/environment-variables">Environment variables</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Use cases</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">Computer vision</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">Auto annotation with CVAT</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/getting-started/use-cases/computervision/annotation/cvat/cvat_quick_guide">Quick start</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/getting-started/use-cases/computervision/annotation/cvat/cvat_automatic_annotation">Automatic annotation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/getting-started/use-cases/computervision/annotation/cvat/cvat_annotation_model">Create annotation model</a></li></ul></li></ul></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/docs/getting-started/contributing">Contributing</a></li></ul></div></div></div><main class="docMainContainer_FFX1"><div class="container padding-vert--lg docItemWrapper_1cc7"><div class="row"><div class="col docItemCol_2GOA"><div class="docItemContainer_2cwg"><article><header><h1 class="docTitle_1vWb">Semi-automatic annotation with CVAT</h1></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="semi-automatic-annotation-on-cvat"></a>Semi-automatic annotation on CVAT<a aria-hidden="true" tabindex="-1" class="hash-link" href="#semi-automatic-annotation-on-cvat" title="Direct link to heading">#</a></h2><p>You can use your TensorFlow or OpenVINO model to pre-annotate your data. This can save you a lot of time since you don&#x27;t have to annotate images from scratch. On Onepanel, you can leverage these features to pre-annotate your bounding boxes or polygon masks. You can also use Object Tracking to track objects in a sequence of frames.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="uploading-your-model-on-cvat"></a>Uploading your model on CVAT<a aria-hidden="true" tabindex="-1" class="hash-link" href="#uploading-your-model-on-cvat" title="Direct link to heading">#</a></h2><p>Before using any type of semi-automatic annotation, you will need to upload your model on CVAT Model Manager by clicking on Models. To upload your model, go to your CVAT dashboard and click on Models. A pop up window will appear where you can give a name to your model, select the source of your files (local or cloud), and select files. For TF Annotation and Segmentation, you will need two files- model and classes.csv. For TF Annotation, the model should be Tensorflow Frozen Graph (.pb). For Segmentation, it should be Keras model (.h5).</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="semi-automatic-annotation-of-bounding-boxes"></a>Semi-automatic annotation of bounding boxes<a aria-hidden="true" tabindex="-1" class="hash-link" href="#semi-automatic-annotation-of-bounding-boxes" title="Direct link to heading">#</a></h2><p>The first step is to upload your model on CVAT or use our default model which are available on CVAT. Now, find Actions button for the task on which you want to run pre-annotation. Click on Automatic Annotation, a pop up will appear where you can select the model you want to use for pre-annotation. Once you select the model, an automatic class mapping will appear, you can modify it if you want. Once done, click on Start. Once it is done, you can go into your task and check out the pre-annotation.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="semi-automatic-annotation-of-polygon-masks-segmentation"></a>Semi-automatic annotation of polygon masks (segmentation)<a aria-hidden="true" tabindex="-1" class="hash-link" href="#semi-automatic-annotation-of-polygon-masks-segmentation" title="Direct link to heading">#</a></h2><p>For segmentation, you will have to attach the model to your workspace. Click on Add Dataset, search for maskrcnn-default and click on Add. Once done, please follow above procedure to upload it on your Model Manager. Now, on your CVAT dashboard, go to a task where you would like to run this pre-annotation model on, find <code>Run Auto Segmentation</code> button and click on it. Similar to the above, a list of models will appear. Select the model and hit Start. Your pre-annotation will be started.
Please note that the Mask RCNN model is a compute-intensive model. It would require at least a single GPU machine.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="hardware-requirements"></a>Hardware requirements<a aria-hidden="true" tabindex="-1" class="hash-link" href="#hardware-requirements" title="Direct link to heading">#</a></h2><p>For training a model( Create New Annotation Model), you can choose any GPU machine from the list. All of our models will work on any of the GPU machine. But if you want to train it faster, then we suggest you select machines with multiple GPUs (i.e 8 V100).</p><p>For pre-annotation, you can use a CPU machine (32gb or above) for TF Annotation (bounding box). But It will be considerably slower. So, we suggest you choose a GPU machine for pre-annotation. </p><p>For the pre-annotation of polygons, you have to use a GPU machine since the Mask RCNN model is compute-intensive.</p><p>Please find the table bewlo which details machine type with the corresponding runtime to perform pre-annotations.
For this test, we used a task with <strong>3550 images (2GB)</strong> to perform pre-annotations.</p><table><thead><tr><th>Machine    </th><th>Time    </th></tr></thead><tbody><tr><td>K80        </td><td>160 minutes  </td></tr><tr><td>V100        </td><td>80 minutes</td></tr><tr><td>V100 x 4    </td><td>21 minutes</td></tr></tbody></table><p>Run time depends on factors such as <strong>model, number of images, type of machine.</strong></p><p>The above data was generated for ssd-mobilenet-v2 model which is the model we suggest to use in normal circumstances. If you have complex annotations and want to use faster-rcnn based model, then it might take slightly more time. But note that it won’t significantly alter the data presented above.</p><p>The other factor is image compression. By default, CVAT compresses images by 50%. We did some testing to find out if we use original images (without compression) then how much time it will take.</p><p>It turns out that if you use the original images without compression, your pre-annotation time will be increased by ~5-6% of that of 50% compressed images. So in the above table, if you use images without compression and use a V100, it will take 84 minutes instead of 80 minutes. Please note that this compression does not affect annotation in any way.</p><p>Note that this data was calculated on 3550 images (1280 x 960)(total size=2GB), so if your data size is different you can easily extrapolate the data from the above table. For example, if you have 10gb of images then ideally it will take around 400 minutes on a V100 GPU. </p><p>If the resolution of your images is slightly different, then it won’t affect run time significantly. In fact, if the difference is ~200 pixels then it won’t change at all, generally.</p><p>If you still have any questions, feel free to reach out to us at <a href="mailto:info@onepanel.io">info@onepanel.io</a></p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/onepanelio/core-docs/tree/master/docs/getting-started/use-cases/computervision/annotation/cvat/cvat_automatic_annotation.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/getting-started/use-cases/computervision/annotation/cvat/cvat_quick_guide"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« Quick start</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/getting-started/use-cases/computervision/annotation/cvat/cvat_annotation_model"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Creating annotation models on CVAT »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_TbNY"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#semi-automatic-annotation-on-cvat" class="table-of-contents__link">Semi-automatic annotation on CVAT</a></li><li><a href="#uploading-your-model-on-cvat" class="table-of-contents__link">Uploading your model on CVAT</a></li><li><a href="#semi-automatic-annotation-of-bounding-boxes" class="table-of-contents__link">Semi-automatic annotation of bounding boxes</a></li><li><a href="#semi-automatic-annotation-of-polygon-masks-segmentation" class="table-of-contents__link">Semi-automatic annotation of polygon masks (segmentation)</a></li><li><a href="#hardware-requirements" class="table-of-contents__link">Hardware requirements</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="text--center"><div>Copyright © 2020 Onepanel, Inc.</div></div></div></footer></div>
<script src="/styles.437464ec.js"></script>
<script src="/runtime~main.9d09644e.js"></script>
<script src="/main.a7e620a8.js"></script>
<script src="/1.dd353294.js"></script>
<script src="/2.3c4cdf04.js"></script>
<script src="/3.9548f12b.js"></script>
<script src="/1be78505.696c3a5b.js"></script>
<script src="/20ac7829.1f7892a8.js"></script>
<script src="/c79ff1bb.6d2ef9e3.js"></script>
</body>
</html>